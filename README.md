# [Дипломная работа “Облачное хранилище”](https://github.com/netology-code/jd-homeworks/blob/master/diploma/cloudservice.md)

## Описание проекта

REST-сервис предоставляет интерфейс для загрузки файлов и вывода списка уже загруженных файлов пользователя
по [заранее описанной спецификации](CloudServiceSpecification.yaml).

Все запросы к сервису должны быть авторизованы. Заранее подготовленное веб-приложение (FRONT) должно подключаться к разработанному 
сервису без доработок, а также использовать функционал FRONT для авторизации, загрузки и вывода списка файлов пользователя.
Изначально FRONT доступен на порту 8080, сервер - на порту 5050.


## Стартовые пользователи:

**USERNAME:** kolia **PASSWORD:** 1234

**USERNAME:** ivan **PASSWORD:** 1234

## Описание реализации:

- Приложение разработано с использованием Spring Boot;
- Использован сборщик пакетов Maven;
- Использована база данных MySql;
- Использована система управления миграциями Liquibase;
- Для запуска используется docker, docker-compose;
- Код покрыт unit тестами с использованием mockito;
- Добавлены интеграционные тесты с использованием testcontainers;
- Информация о пользователях сервиса хранится в базе данных;
- Информация о файлах пользователей сервиса хранится в базе данных.
- Файлы хранятся на сервере



## ВАЖНО!!!

[Интеграционный тест](src/test/java/ru/netology/netologydiploma/NetologyDiplomaApplicationTests.java) закомментированы, так как с ним не получится выполнить maven-package, а также собрать docker-контейнер.
После сборки docker-контейнера требуется раскомментировать и запустить данные тесты.

## Запуск приложения

### Запуск FRONT:

1. Установите nodejs (версия не ниже 19.7.0) на компьютер, следуя [следуя инструкции](https://nodejs.org/ru/download/);
2. Скачать [FRONT](https://github.com/frepingod/netology-cloud-storage-front) (JavaScript);
3. Перейти в папку FRONT приложения и все команды для запуска выполнять из нее;
4. Следуя описанию README.md FRONT проекта нужно установить nodejs приложение (npm install);
5. Для запуска FRONT приложения нужно использовать команду: `npm run serve`.

### Запуск сервера(image Diplom):

1. Скачать данный проект, выполнить `maven -> clean -> package`;
2. Запустить `docker-compose.yml`.
Автоматически создадутся все необходимые в базе данных таблицы (с двумя стартовыми пользователями в таблице users).

### PS:

BACKEND можно запустить и через main метод в классе NetologyCloudStorageApplication.java,
не используя docker-контейнер. Базу данных же все равно запускать через docker-контейнер.

Для этого на п.2 "Запуск BACKEND" вместо запуска всего `docker-compose.yml` следует запустить
только `docker-compose.yml -> database`, а само приложение через main метод.
Остальные шаги остаются неизменны.

